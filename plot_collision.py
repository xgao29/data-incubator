import matplotlib.pyplot as plt
import numpy as np
from matplotlib.patches import Ellipse
location17={'': [40.72903861579333, -73.92236377205451, 78541], '10065': [40.76378195351755, -73.96293821608026, 796], '10069': [40.777505888888896, -73.98838333333335, 9], '10012': [40.72397741047511, -73.9963433386116, 821], '10453': [40.8531192082354, -73.91024079529393, 850], '10452': [40.839436885844776, -73.92048361643853, 657], '10451': [40.81995012682926, -73.92264282536605, 1025], '10457': [40.84647653369758, -73.8988001420766, 1098], '10456': [40.82968101086958, -73.90849910265688, 828], '10455': [40.81487365311321, -73.90776685387556, 787], '10454': [40.806768955135816, -73.91849414757979, 847], '10105': [40.76163100000001, -73.97967571428572, 7], '10459': [40.82292490281832, -73.8932785325559, 1029], '10458': [40.86106610375497, -73.88889385375488, 1012], '11232': [40.65665872461279, -74.0026342564545, 581], '10103': [40.760773, -73.9767, 1], '10010': [40.740047544428776, -73.98570236671368, 709], '11385': [40.70394930311777, -73.89227989722853, 1732], '11234': [40.62101521019442, -73.92419603678421, 1903], '10016': [40.746075823293104, -73.97897470883545, 1494], '10307': [40.511507025, -74.24048805, 120], '10014': [40.7333142821101, -74.00583727522937, 436], '10282': [40.71637713333333, -74.01509866666667, 15], '10280': [40.709436548387096, -74.0163782580645, 31], '10281': [40.71309316666666, -74.01587333333335, 12], '10118': [40.74836419999999, -73.98473426666666, 15], '10119': [40.754921321428576, -73.98704107142859, 28], '10112': [40.75914266666667, -73.97929666666666, 3], '10110': [40.753599599999994, -73.98082, 5], '10111': [40.759064, -73.978455, 1], '11109': [40.7452436, -73.95757640000002, 5], '11379': [40.71716169498067, -73.88127012162167, 518], '11378': [40.723128439089734, -73.90626679250335, 747], '11102': [40.770732866438365, -73.92466616438361, 292], '11103': [40.76339426829268, -73.91380454471545, 369], '11377': [40.745492030674846, -73.90375583435583, 1141], '11101': [40.746307767759575, -73.93694322513679, 1830], '11106': [40.76121850215514, -73.93034649137937, 464], '11370': [40.76410742885376, -73.88997978063236, 506], '11104': [40.74476235737702, -73.9206945803279, 305], '11372': [40.7516232641861, -73.88386344093018, 1075], '11375': [40.72222955946608, -73.84540447694191, 824], '11374': [40.725935079646, -73.86321616991145, 565], '10027': [40.811006011842196, -73.9512935276315, 760], '11229': [40.603352361963275, -73.9493966175869, 978], '10040': [40.858044217008825, -73.92860411436952, 341], '10041': [40.703594, -74.00979, 4], '10029': [40.7922241102464, -73.94431884565488, 771], '10045': [40.70820466666667, -74.00885999999998, 3], '11201': [40.694239355053355, -73.98769422406903, 1504], '11203': [40.65059943247582, -73.93329310718129, 1866], '10128': [40.782605114107845, -73.95073550207466, 482], '11205': [40.69440747277228, -73.96226273886137, 808], '11204': [40.619251105203645, -73.98503559728492, 884], '11207': [40.67019023949034, -73.89462902123128, 2355], '11206': [40.70195659406667, -73.94239907163538, 1382], '11209': [40.624917305759084, -74.02833522513077, 955], '11208': [40.675248176724125, -73.87329286925288, 1392], '10121': [40.749935590909075, -73.99166627272727, 22], '11105': [40.775946329230756, -73.90845869230768, 325], '11225': [40.66274127877952, -73.95519306657418, 721], '11224': [40.57775145604396, -73.98514911721607, 546], '11368': [40.7492838044996, -73.8601119635375, 1289], '11369': [40.7637115935302, -73.87311124894528, 711], '11366': [40.727067657303316, -73.79510101685402, 356], '11367': [40.727241092145015, -73.81903411329318, 662], '11364': [40.744987711475446, -73.76112819672142, 305], '11365': [40.737268470464144, -73.79622528059073, 474], '11362': [40.76111599230768, -73.73397090384623, 260], '11363': [40.76758093835613, -73.74526425342462, 146], '11360': [40.78089244949495, -73.78054791919195, 198], '10023': [40.77531961011899, -73.98154858482147, 672], '10020': [40.75914653424658, -73.98034561643833, 73], '10123': [40.75139466666666, -73.9903438888889, 9], '10021': [40.76954655119826, -73.95889449673211, 459], '11040': [40.75138623809524, -73.70804968253965, 63], '11212': [40.66259896764708, -73.91347407117638, 1700], '11213': [40.671441802932954, -73.93418587076077, 1091], '11210': [40.6289219023436, -73.94668176796864, 1280], '11211': [40.712047670876686, -73.95161903491844, 1346], '11216': [40.679477153470245, -73.94950396383192, 1023], '11217': [40.68287198280307, -73.97824906448838, 1163], '11214': [40.59978170858897, -73.99521597955005, 978], '11215': [40.6695775697092, -73.98435463490463, 997], '10035': [40.80239642299108, -73.93711439955348, 896], '10034': [40.86575407357357, -73.92070221171173, 666], '11218': [40.642503672601535, -73.97614238872397, 1011], '10036': [40.758624608669066, -73.98975337240527, 1638], '10031': [40.824961916230365, -73.94964642670163, 382], '10030': [40.81860469533168, -73.94306295331691, 407], '10033': [40.84843335661217, -73.93522514413083, 673], '10032': [40.83845091445423, -73.94160959144537, 678], '11001': [40.73301382608695, -73.70802659420288, 69], '11358': [40.76010473225807, -73.79763057580644, 620], '11005': [40.75865366666667, -73.71632183333332, 18], '11004': [40.744543792899435, -73.71112997041413, 338], '11697': [40.5678208095238, -73.90755123809524, 21], '11694': [40.58110124888887, -73.83700007111109, 225], '11695': [40.562126, -73.90231, 1], '11357': [40.78435992534374, -73.81330984282909, 509], '11693': [40.59458564912277, -73.81593407894735, 228], '11355': [40.75249305826083, -73.82414188695653, 1150], '11691': [40.60122932725063, -73.7580984318734, 822], '10039': [40.82529697586207, -73.93836878965514, 290], '10038': [40.71006947321434, -74.00334867857146, 336], '10309': [40.53362300722892, -74.21409488433737, 415], '10308': [40.550751233644924, -74.15108752959502, 321], '10037': [40.81275946376814, -73.93855937391315, 345], '10306': [40.571443260947206, -74.11642061215363, 1119], '10305': [40.597242695443626, -74.07806520383696, 834], '10304': [40.61278384192828, -74.08666730829587, 892], '10302': [40.63181335, -74.13005400000003, 20], '10301': [40.631439334541085, -74.09061178381634, 828], '10028': [40.777425627027, -73.95392021621625, 370], '11228': [40.61849999357945, -74.01307268218297, 623], '10026': [40.802224113402055, -73.95250928092788, 388], '11226': [40.64776370010736, -73.9564916968884, 1864], '10024': [40.78549227814574, -73.97552536754951, 604], '10025': [40.796574645588215, -73.96828201911774, 680], '11223': [40.59983519249286, -73.97053189316665, 1039], '11222': [40.72725055669044, -73.94874006945865, 979], '11221': [40.691793675933916, -73.92709948740222, 1151], '11220': [40.63879724313086, -74.0145941665281, 1201], '11219': [40.63268742618621, -73.9976807363795, 1138], '10169': [40.7545626, -73.97593, 15], '10168': [40.75146152, -73.97611119999998, 25], '11429': [40.71049439189194, -73.73966919111965, 518], '11428': [40.7195711352113, -73.7430507126761, 355], '11421': [40.69177503529406, -73.85610713529397, 510], '11420': [40.67344649551165, -73.81653253859959, 1114], '11423': [40.71584290545451, -73.76813053090902, 550], '11422': [40.66378311416028, -73.73568301427001, 911], '11427': [40.72779028997288, -73.74900291327916, 369], '11426': [40.73284008307691, -73.72129928615388, 325], '10152': [40.758785, -73.97281, 3], '10153': [40.76394, -73.97325, 4], '10151': [40.763226, -73.97378, 2], '10154': [40.757965, -73.973404, 1], '10155': [40.761395, -73.96819, 2], '10310': [40.6323551594488, -74.11851463385825, 508], '10312': [40.54731104454019, -74.17376202729879, 696], '10314': [40.610026638795986, -74.12234469230762, 299], '11359': [40.796417, -73.77748, 1], '11238': [40.6799116134832, -73.9640680966292, 890], '11239': [40.65320932217568, -73.87472527196654, 239], '10019': [40.7650106889591, -73.98328711167166, 1585], '10018': [40.75528703684956, -73.99223311416158, 1384], '10271': [40.708508, -74.01108, 4], '11230': [40.622778790787045, -73.96566828278942, 1563], '11231': [40.678597169209446, -74.00232576560315, 721], '10011': [40.74183284186879, -74.00053198382737, 1113], '11233': [40.67680282004095, -73.91815873824136, 1467], '10017': [40.75279984554668, -73.97425339571578, 887], '11235': [40.58469481892332, -73.95410018597066, 1226], '11236': [40.64158448165625, -73.90556211897257, 1908], '11237': [40.70302001325975, -73.92053850939226, 905], '11432': [40.711737451639344, -73.79462150081966, 1220], '11433': [40.69945191907511, -73.78986478468197, 692], '11430': [40.665424266666676, -73.80562936666666, 30], '11436': [40.6760292316716, -73.79631412316712, 341], '10022': [40.75959963268265, -73.96858095733936, 1383], '11434': [40.67256877377888, -73.77552773521867, 1556], '11435': [40.70124610526319, -73.80956472315788, 950], '10004': [40.70462622500003, -74.01381113999999, 200], '10005': [40.70636106766916, -74.0080597067669, 133], '10006': [40.7091544, -74.01383679200009, 125], '10007': [40.71404400904977, -74.00880957013577, 442], '10000': [40.77794820547945, -73.96463368493151, 73], '10001': [40.74976299396135, -73.99487009058002, 1656], '10002': [40.71826250840075, -73.9886076397015, 1607], '10003': [40.73232046854661, -73.98868670498915, 922], '10167': [40.754826, -73.97569, 1], '11692': [40.592758534031425, -73.79380022513092, 191], '10165': [40.75251264705883, -73.97862500000001, 17], '10009': [40.726773844181466, -73.98061571794877, 507], '10279': [40.712265, -74.0079, 3], '11356': [40.78398821327015, -73.84223766587675, 422], '10475': [40.8760276713395, -73.82874555919, 642], '10474': [40.813702985714336, -73.88617846071426, 560], '10471': [40.900571075, -73.90210181666663, 240], '10470': [40.899665506082734, -73.86022790754267, 411], '10473': [40.82054266984127, -73.85934502698414, 630], '10472': [40.82993918384074, -73.87190217915698, 854], '11354': [40.7647455178165, -73.82651788551927, 1319], '10278': [40.715053000000005, -74.00486272727272, 11], '10120': [40.750107, -73.988565, 2], '11249': [40.71112240721647, -73.96225411340208, 582], '11241': [40.693394, -73.99061, 1], '11361': [40.761850141263956, -73.7734605966544, 538], '11242': [40.693222, -73.99068, 1], '10107': [40.766384, -73.98212, 1], '10178': [40.75093, -73.97854, 4], '10075': [40.77383756122451, -73.95709878911566, 294], '10170': [40.752262, -73.97547, 3], '10171': [40.75646, -73.9745, 2], '10172': [40.75564977777779, -73.97510999999999, 18], '10173': [40.75387, -73.97852, 1], '10174': [40.75179, -73.97579333333334, 3], '10177': [40.75502, -73.97558, 2], '10466': [40.89071871726431, -73.84952841868221, 1199], '10467': [40.87431863512482, -73.87109687509468, 1321], '10464': [40.8509246344086, -73.79313864516128, 93], '10465': [40.83135532664749, -73.82871633237815, 698], '10462': [40.842442513622615, -73.85945290413726, 991], '10463': [40.880376159334155, -73.9050433626634, 841], '10460': [40.84037695918363, -73.88037866048246, 1078], '10461': [40.845923369606055, -73.84170749530956, 1066], '10468': [40.86550660579345, -73.89995932115873, 794], '10469': [40.871028269305015, -73.84860283590737, 1036], '11411': [40.694368522959174, -73.73733562244898, 392], '11412': [40.697970791666705, -73.75965539499998, 600], '11413': [40.670198331797245, -73.75353097603704, 1085], '11414': [40.6626654672686, -73.84299871106096, 443], '11415': [40.709070114754056, -73.83054882786891, 244], '11416': [40.684820518779276, -73.8489308521126, 426], '11417': [40.67684480447768, -73.84410786417911, 670], '11418': [40.698754277870194, -73.83072269384354, 601], '11419': [40.68905185696677, -73.82351967694208, 811], '10013': [40.71984616921038, -74.00226012209723, 1507], '11373': [40.73889529127859, -73.87685167569852, 1181]}

std17={'': [0.08048688172323772, 0.09604990209959664], '10001': [0.003271880373825771, 0.005335415087068296], '10002': [0.004738919464753623, 0.006887436770977571], '10306': [0.008209806155599773, 0.013994481187593532], '11201': [0.012467051215380576, 0.010456066423988405], '10013': [0.0027454216912614674, 0.004352275139449048], '11203': [0.006576057089632577, 0.007198040797952707], '10457': [0.009546483209216788, 0.009998244117303748], '11373': [0.005401664567504118, 0.007231594200005567], '11207': [0.010569843680866095, 0.008705356158906592], '11206': [0.0047703227755077115, 0.00904487389566535], '11208': [0.008455985658677615, 0.007312763806848994], '11226': [0.006218058285109275, 0.0053910563143520435], '10459': [0.004506280406437268, 0.0039917644926457515], '10458': [0.009242823476198791, 0.004641422088041293], '11223': [0.008075902704871888, 0.008722457344925712], '10011': [0.00403053304534881, 0.0045142691220813195], '11221': [0.004680094557584605, 0.008742629519552153], '11220': [0.005987323913834186, 0.007224630657035792], '11219': [0.005846295869772868, 0.008365686840010038], '11385': [0.005146108814492314, 0.01861605266527639], '10036': [0.0022768736526002017, 0.005027179592876641], '10022': [0.002289300225080142, 0.0040028622296166124], '10016': [0.0032631451980601254, 0.003977414211352752], '11420': [0.006016754674610494, 0.008028586708185978], '11212': [0.00854618994570823, 0.00725991389229901], '11213': [0.004285241232719313, 0.00563797135996283], '10019': [0.004446939775248064, 0.0070305497402241126], '11211': [0.00407455307734169, 0.008803562474554672], '11216': [0.005697284710913214, 0.004459566356028401], '11217': [0.005713744735274488, 0.005038136671319969], '10460': [0.004634375828178876, 0.008045377145590884], '10461': [0.006068278926587701, 0.008323137373124592], '11230': [0.00687084096546544, 0.005822806906096504], '11218': [0.01094100721966779, 0.009641600309129975], '11233': [0.0044186673918858, 0.007448007221849792], '11234': [0.009643985773710478, 0.009252618455984105], '11235': [0.005002986670086493, 0.009883060256765254], '11236': [0.006884371874250173, 0.010096905449596839], '10469': [0.006385773583881784, 0.008098302502758708], '11372': [0.003059912414760632, 0.007062611600212507], '10466': [0.004944862839870866, 0.009594553228225897], '10451': [0.007617515740845084, 0.007697822289309793], '11413': [0.008120624071377255, 0.008920866396344033], '11368': [0.006996621907315407, 0.008458240727596118], '10467': [0.009940790154792154, 0.008160688203598903], '11377': [0.0069780790982682285, 0.007296431476960078], '11101': [0.006286469695855112, 0.009455895268754322], '11210': [0.00837362669182481, 0.005497477219275577], '11355': [0.0052692127351861824, 0.007086341771323631], '11354': [0.004608320898306662, 0.008778218371787794], '10018': [0.0027458132190003788, 0.008062429716721607], '11432': [0.006860084319908068, 0.008794023293547408], '11434': [0.009900678613994195, 0.00917139942857187]}

ellp=[]
for zip in std17:
    if location17[zip][2]>999 and zip!='':
        ellp+=[Ellipse(xy=[location17[zip][1],location17[zip][0]],width=std17[zip][1]*1, height=std17[zip][0]*1) ]

fig, ax = plt.subplots(subplot_kw={'aspect': 'equal'})

for e in ellp:
    ax.add_artist(e)
    e.set_clip_box(ax.bbox)
    e.set_facecolor(np.random.rand(3))

ax.set_xlim(-74.3, -73.6)
plt.xlabel('longitude')
ax.set_ylim(40.4, 41)
plt.ylabel('lattitude')
print(len(ellp))
plt.show()
